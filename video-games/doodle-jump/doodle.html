<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }

        canvas {
            display: block;
        }
    </style>
    <title>Doodle Jump</title>
</head>
<body>
<canvas id="gameCanvas" width="480" height="640"></canvas>
<script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    const player = {
        x: 50,
        y: canvas.height - 30,
        width: 30,
        height: 30,
        velocityY: 0,
        velocityX: 0,
        jumping: false,
    };

    const platforms = [
        { x: 50, y: canvas.height - 20, width: 80, height: 10 },
        { x: 150, y: canvas.height - 100, width: 80, height: 10 },
        // Add more platforms as needed
    ];

    function drawPlayer() {
        ctx.fillStyle = "blue";
        ctx.fillRect(player.x, player.y, player.width, player.height);
    }

    function drawPlatform(platform) {
        ctx.fillStyle = "green";
        ctx.fillRect(platform.x, platform.y, platform.width, platform.height);
    }

    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        drawPlayer();

        platforms.forEach(drawPlatform);

        requestAnimationFrame(draw);
    }

    function update() {
        if (player.jumping) {
            player.velocityY += 0.5; // Gravity
        }

        player.y += player.velocityY;
        player.x += player.velocityX;

        platforms.forEach(platform => {
            if (
                player.x < platform.x + platform.width &&
                player.x + player.width > platform.x &&
                player.y + player.height > platform.y &&
                player.y < platform.y + platform.height
            ) {
                // Player hits a platform
                player.jumping = false;
                player.velocityY = 0;
                player.y = platform.y - player.height;
            }
        });

        if (player.x < 0) {
            player.x = 0;
        }

        if (player.x + player.width > canvas.width) {
            player.x = canvas.width - player.width;
        }

        if (player.y > canvas.height) {
            // Reset if player falls off the screen
            player.y = canvas.height - player.height;
        }

        requestAnimationFrame(update);
    }

    function jump() {
        if (!player.jumping) {
            player.velocityY = -10;
            player.jumping = true;
        }
    }

    document.addEventListener("keydown", event => {
        if (event.code === "Space") {
            jump();
        } else if (event.code === "ArrowLeft") {
            player.velocityX = -5;
        } else if (event.code === "ArrowRight") {
            player.velocityX = 5;
        }
    });

    document.addEventListener("keyup", event => {
        if (event.code === "ArrowLeft" || event.code === "ArrowRight") {
            player.velocityX = 0;
        }
    });

    update(); // Start the game loop
    draw(); // Initial draw
</script>
</body>
</html>
